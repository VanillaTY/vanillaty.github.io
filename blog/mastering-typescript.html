<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/82969837b1b64619.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d2306da0eee58c02.js"/><script src="/_next/static/chunks/4bd1b696-d0f988012b862017.js" async=""></script><script src="/_next/static/chunks/684-7bb36da2891fb74e.js" async=""></script><script src="/_next/static/chunks/main-app-03656b46491728de.js" async=""></script><script src="/_next/static/chunks/574-eadd8b226b9b3348.js" async=""></script><script src="/_next/static/chunks/766-8cb3eaaa27f75795.js" async=""></script><script src="/_next/static/chunks/411-72a2b7bbc3988cf4.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js" async=""></script><meta name="next-size-adjust" content=""/><title>Yi Tang&#x27;s Website</title><meta name="description" content="Yi Tang&#x27;s Website"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><div class="min-h-screen bg-[var(--background)] text-[var(--foreground)]"><nav class="fixed w-full bg-[var(--background)] z-50 shadow-md border-b border-[var(--border)] backdrop-blur-sm bg-opacity-90"><div class="container mx-auto px-6 py-4 flex justify-between items-center"><a class="text-2xl font-bold relative group" href="/"><span class="bg-clip-text text-transparent bg-gradient-to-r from-[var(--primary)] to-purple-600">Yi Tang</span><span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-[var(--primary)] to-purple-600 transition-all duration-300 group-hover:w-full"></span></a><div class="flex items-center space-x-4"><div class="hidden md:flex space-x-1"><a class="px-3 py-2 rounded-md transition-colors duration-200 flex items-center space-x-1 hover:text-[var(--primary)] hover:bg-[var(--primary-foreground)] hover:bg-opacity-5" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house w-4 h-4" aria-hidden="true"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg><span>Home</span></a><a class="px-3 py-2 rounded-md transition-colors duration-200 flex items-center space-x-1 text-[var(--primary)] bg-[var(--primary-foreground)] bg-opacity-10" href="/blog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open w-4 h-4" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span>Blog</span></a></div><div class="flex items-center space-x-2"><button class="p-2 rounded-full bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-opacity-80 transition-all duration-200" aria-label="Switch to dark mode"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon w-5 h-5" aria-hidden="true"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button><button class="md:hidden p-2 rounded-md hover:bg-[var(--secondary)]" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu w-6 h-6" aria-hidden="true"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></nav><header class="mb-12"><div class="container mx-auto px-6 pt-25"><div class="max-w-3xl mx-auto"><a class="inline-flex items-center text-[var(--primary)] mb-6 hover:underline" href="/blog">← Back to all posts</a><h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">PostCSS 学习笔记</h1><div class="flex items-center text-[var(--muted-foreground)] mb-6"><span>2025-05-13</span><span class="mx-2">•</span><div class="flex gap-2"><span class="px-2 py-1 bg-[var(--secondary)] text-[var(--secondary-foreground)] text-xs rounded-full">PostCSS</span><span class="px-2 py-1 bg-[var(--secondary)] text-[var(--secondary-foreground)] text-xs rounded-full">CSS</span></div></div></div></div></header><article class="prose prose-lg dark:prose-invert max-w-3xl mx-auto px-6"><blockquote class="border-l-4 border-[var(--primary)] pl-4 italic mb-4" node="[object Object]">
<p class="mb-4" node="[object Object]">PostCSS 是一个基于插件的 CSS 处理工具，它将 CSS 转换为抽象语法树（AST），通过插件对其进行处理，最后生成新的 CSS 代码。(<a class="text-[var(--primary)] hover:underline" href="https://www.oryoy.com/news/jie-mi-postcss-rang-css-geng-jia-qiang-da-yu-gao-xiao-de-shi-yong-zhi-nan.html?utm_source=chatgpt.com" title="揭秘PostCSS：让CSS更加强大与高效的实用指南 - 云原生实践" node="[object Object]">Oryoy</a>)</p>
</blockquote>
<h2 class="text-3xl font-bold mb-3" node="[object Object]">📌 什么是 PostCSS？</h2>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>非预处理器</strong>：PostCSS 不像 Sass 或 Less 那样定义新的语法，而是处理标准 CSS。</li>
<li class="mb-2" node="[object Object]"><strong>插件驱动</strong>：其核心是一个轻量级的解析器，开发者可以通过插件对 AST 进行各种处理和修改。</li>
<li class="mb-2" node="[object Object]"><strong>生态系统丰富</strong>：许多工具（如 Autoprefixer、Stylelint、CSSnano）都是建立在 PostCSS 生态系统之上的。(<a class="text-[var(--primary)] hover:underline" href="https://postcss.org.cn/docs/postcss-architecture?utm_source=chatgpt.com" title="PostCSS 架构 中文" node="[object Object]">postcss.org.cn</a>, <a class="text-[var(--primary)] hover:underline" href="https://blog.csdn.net/AOMGyz/article/details/138016887?utm_source=chatgpt.com" title="PostCSS详细介绍_postcss是什么-CSDN博客" node="[object Object]">CSDN博客</a>)</li>
</ul>
<h2 class="text-3xl font-bold mb-3" node="[object Object]">🧠 架构概览</h2>
<p class="mb-4" node="[object Object]">PostCSS 的工作流程如下：(<a class="text-[var(--primary)] hover:underline" href="https://postcss.org.cn/docs/?utm_source=chatgpt.com" title="PostCSS 文档 中文" node="[object Object]">postcss.org.cn</a>)</p>
<ol class="list-decimal pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>解析（Parsing）</strong>：将 CSS 字符串转换为抽象语法树（AST）。</li>
<li class="mb-2" node="[object Object]"><strong>转换（Transforming）</strong>：插件对 AST 进行操作，如添加前缀、压缩等。</li>
<li class="mb-2" node="[object Object]"><strong>生成（Stringifying）</strong>：将修改后的 AST 转换回 CSS 字符串。(<a class="text-[var(--primary)] hover:underline" href="https://blog.csdn.net/AOMGyz/article/details/138016887?utm_source=chatgpt.com" title="PostCSS详细介绍_postcss是什么-CSDN博客" node="[object Object]">CSDN博客</a>)</li>
</ol>
<p class="mb-4" node="[object Object]">这种架构使得 PostCSS 具有高度的灵活性和可扩展性。(<a class="text-[var(--primary)] hover:underline" href="https://blog.csdn.net/AOMGyz/article/details/138016887?utm_source=chatgpt.com" title="PostCSS详细介绍_postcss是什么-CSDN博客" node="[object Object]">CSDN博客</a>)</p>
<h2 class="text-3xl font-bold mb-3" node="[object Object]">🔍 核心组件详解</h2>
<h3 class="text-2xl font-bold mb-2" node="[object Object]">1. 词法分析器（Tokenizer）</h3>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>功能</strong>：将 CSS 字符串拆分为标记（tokens），如选择器、属性、值等。</li>
<li class="mb-2" node="[object Object]"><strong>优势</strong>：提高解析性能，便于后续的 AST 构建。(<a class="text-[var(--primary)] hover:underline" href="https://postcss.org.cn/docs/postcss-architecture?utm_source=chatgpt.com" title="PostCSS 架构 中文" node="[object Object]">postcss.org.cn</a>)</li>
</ul>
<h3 class="text-2xl font-bold mb-2" node="[object Object]">2. 抽象语法树（AST）</h3>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>结构</strong>：以树形结构表示 CSS 的语法和结构。</li>
<li class="mb-2" node="[object Object]"><strong>用途</strong>：插件通过遍历和修改 AST，实现对 CSS 的各种转换。(<a class="text-[var(--primary)] hover:underline" href="https://www.oryoy.com/news/jie-mi-postcss-rang-css-geng-jia-qiang-da-yu-gao-xiao-de-shi-yong-zhi-nan.html?utm_source=chatgpt.com" title="揭秘PostCSS：让CSS更加强大与高效的实用指南 - 云原生实践" node="[object Object]">Oryoy</a>, <a class="text-[var(--primary)] hover:underline" href="https://cloud.tencent.com/developer/article/2470407?utm_source=chatgpt.com" title="PostCSS概述-腾讯云开发者社区-腾讯云" node="[object Object]">腾讯云</a>)</li>
</ul>
<h3 class="text-2xl font-bold mb-2" node="[object Object]">3. 插件系统</h3>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>机制</strong>：插件是函数，接受 AST 作为参数，对其进行操作。</li>
<li class="mb-2" node="[object Object]"><strong>示例</strong>：Autoprefixer 自动添加浏览器前缀，cssnano 进行 CSS 压缩。(<a class="text-[var(--primary)] hover:underline" href="https://www.oryoy.com/news/jie-mi-postcss-rang-css-geng-jia-qiang-da-yu-gao-xiao-de-shi-yong-zhi-nan.html?utm_source=chatgpt.com" title="揭秘PostCSS：让CSS更加强大与高效的实用指南 - 云原生实践" node="[object Object]">Oryoy</a>, <a class="text-[var(--primary)] hover:underline" href="https://blog.csdn.net/AOMGyz/article/details/138016887?utm_source=chatgpt.com" title="PostCSS详细介绍_postcss是什么-CSDN博客" node="[object Object]">CSDN博客</a>)</li>
</ul>
<h2 class="text-3xl font-bold mb-3" node="[object Object]">🛠️ 插件开发示例</h2>
<p class="mb-4" node="[object Object]">以下是一个简单的插件示例，它为所有选择器添加前缀：</p>
<pre class="bg-[var(--secondary)] p-4 rounded-lg mb-4 overflow-x-auto" node="[object Object]"><code class="language-javascript" node="[object Object]">module.exports = postcss.plugin(&#x27;custom-plugin&#x27;, function (opts) {
  return function (root) {
    root.walkRules(rule =&gt; {
      rule.selector = &#x27;.custom-prefix &#x27; + rule.selector;
    });
  };
});
</code></pre>
<p class="mb-4" node="[object Object]">该插件遍历所有规则，为每个选择器添加 <code class="bg-[var(--secondary)] px-1 py-0.5 rounded" node="[object Object]">.custom-prefix</code> 前缀。(<a class="text-[var(--primary)] hover:underline" href="https://cloud.tencent.com/developer/article/2470407?utm_source=chatgpt.com" title="PostCSS概述-腾讯云开发者社区-腾讯云" node="[object Object]">腾讯云</a>)</p>
<h2 class="text-3xl font-bold mb-3" node="[object Object]">⚙️ 集成与配置</h2>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>安装</strong>：使用 npm 安装 PostCSS 及所需插件。</li>
</ul>
<pre class="bg-[var(--secondary)] p-4 rounded-lg mb-4 overflow-x-auto" node="[object Object]"><code class="language-bash" node="[object Object]">  npm install postcss autoprefixer --save-dev
</code></pre>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>配置文件</strong>：创建 <code class="bg-[var(--secondary)] px-1 py-0.5 rounded" node="[object Object]">postcss.config.js</code>，指定使用的插件。(<a class="text-[var(--primary)] hover:underline" href="https://blog.csdn.net/nljycg/article/details/138196855?utm_source=chatgpt.com" title="PostCSS 从入门到精通，看着一篇就够了（1）-CSDN博客" node="[object Object]">CSDN博客</a>)</li>
</ul>
<pre class="bg-[var(--secondary)] p-4 rounded-lg mb-4 overflow-x-auto" node="[object Object]"><code class="language-javascript" node="[object Object]">  module.exports = {
    plugins: [
      require(&#x27;autoprefixer&#x27;)
    ]
  };
</code></pre>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><strong>构建工具集成</strong>：可与 Webpack、Gulp 等构建工具集成，自动处理 CSS。(<a class="text-[var(--primary)] hover:underline" href="https://cloud.tencent.com/developer/article/2470407?utm_source=chatgpt.com" title="PostCSS概述-腾讯云开发者社区-腾讯云" node="[object Object]">腾讯云</a>)</li>
</ul>
<h2 class="text-3xl font-bold mb-3" node="[object Object]">📚 参考资料</h2>
<ul class="list-disc pl-6 mb-4" node="[object Object]">
<li class="mb-2" node="[object Object]"><a class="text-[var(--primary)] hover:underline" href="https://postcss.org.cn/docs/" node="[object Object]">PostCSS 中文文档</a></li>
<li class="mb-2" node="[object Object]"><a class="text-[var(--primary)] hover:underline" href="https://postcss.org/docs/postcss-architecture" node="[object Object]">PostCSS Architecture</a></li>
<li class="mb-2" node="[object Object]"><a class="text-[var(--primary)] hover:underline" href="https://www.postcss.com.cn/plugins/" node="[object Object]">PostCSS 插件列表</a></li>
</ul>
<p class="mb-4" node="[object Object]">通过理解 PostCSS 的架构和工作原理，可以更高效地处理 CSS，提高开发效率和代码质量。</p></article></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-d2306da0eee58c02.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n5:I[9665,[],\"MetadataBoundary\"]\n7:I[9665,[],\"OutletBoundary\"]\na:I[4911,[],\"AsyncMetadataOutlet\"]\nc:I[9665,[],\"ViewportBoundary\"]\ne:I[6614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/82969837b1b64619.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"QWC5XY07HjARotdzaAsgO\",\"p\":\"\",\"c\":[\"\",\"blog\",\"mastering-typescript\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"id\",\"mastering-typescript\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/82969837b1b64619.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"id\",\"mastering-typescript\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[\"$\",\"$L5\",null,{\"children\":\"$L6\"}],null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"ndf4JC1T9TLcBT5Y1s6TN\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:\"$Sreact.suspense\"\n10:I[4911,[],\"AsyncMetadata\"]\n12:I[1871,[\"574\",\"static/chunks/574-eadd8b226b9b3348.js\",\"766\",\"static/chunks/766-8cb3eaaa27f75795.js\",\"411\",\"static/chunks/411-72a2b7bbc3988cf4.js\",\"567\",\"static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js\"],\"default\"]\n13:I[6874,[\"574\",\"static/chunks/574-eadd8b226b9b3348.js\",\"766\",\"static/chunks/766-8cb3eaaa27f75795.js\",\"411\",\"static/chunks/411-72a2b7bbc3988cf4.js\",\"567\",\"static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js\"],\"\"]\n14:I[813,[\"574\",\"static/chunks/574-eadd8b226b9b3348.js\",\"766\",\"static/chunks/766-8cb3eaaa27f75795.js\",\"411\",\"static/chunks/411-72a2b7bbc3988cf4.js\",\"567\",\"static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js\"],\"default\"]\n6:[\"$\",\"$f\",null,{\"fallback\":null,\"children\":[\"$\",\"$L10\",null,{\"promise\":\"$@11\"}]}]\n15:Teb5,"])</script><script>self.__next_f.push([1,"\n\u003e PostCSS 是一个基于插件的 CSS 处理工具，它将 CSS 转换为抽象语法树（AST），通过插件对其进行处理，最后生成新的 CSS 代码。([Oryoy][1])\n\n\n## 📌 什么是 PostCSS？\n\n* **非预处理器**：PostCSS 不像 Sass 或 Less 那样定义新的语法，而是处理标准 CSS。\n* **插件驱动**：其核心是一个轻量级的解析器，开发者可以通过插件对 AST 进行各种处理和修改。\n* **生态系统丰富**：许多工具（如 Autoprefixer、Stylelint、CSSnano）都是建立在 PostCSS 生态系统之上的。([postcss.org.cn][2], [CSDN博客][3])\n\n\n## 🧠 架构概览\n\nPostCSS 的工作流程如下：([postcss.org.cn][4])\n\n1. **解析（Parsing）**：将 CSS 字符串转换为抽象语法树（AST）。\n2. **转换（Transforming）**：插件对 AST 进行操作，如添加前缀、压缩等。\n3. **生成（Stringifying）**：将修改后的 AST 转换回 CSS 字符串。([CSDN博客][3])\n\n这种架构使得 PostCSS 具有高度的灵活性和可扩展性。([CSDN博客][3])\n\n\n## 🔍 核心组件详解\n\n### 1. 词法分析器（Tokenizer）\n\n* **功能**：将 CSS 字符串拆分为标记（tokens），如选择器、属性、值等。\n* **优势**：提高解析性能，便于后续的 AST 构建。([postcss.org.cn][2])\n\n### 2. 抽象语法树（AST）\n\n* **结构**：以树形结构表示 CSS 的语法和结构。\n* **用途**：插件通过遍历和修改 AST，实现对 CSS 的各种转换。([Oryoy][1], [腾讯云][5])\n\n### 3. 插件系统\n\n* **机制**：插件是函数，接受 AST 作为参数，对其进行操作。\n* **示例**：Autoprefixer 自动添加浏览器前缀，cssnano 进行 CSS 压缩。([Oryoy][1], [CSDN博客][3])\n\n\n## 🛠️ 插件开发示例\n\n以下是一个简单的插件示例，它为所有选择器添加前缀：\n\n```javascript\nmodule.exports = postcss.plugin('custom-plugin', function (opts) {\n  return function (root) {\n    root.walkRules(rule =\u003e {\n      rule.selector = '.custom-prefix ' + rule.selector;\n    });\n  };\n});\n```\n\n\n\n该插件遍历所有规则，为每个选择器添加 `.custom-prefix` 前缀。([腾讯云][5])\n\n\n## ⚙️ 集成与配置\n\n* **安装**：使用 npm 安装 PostCSS 及所需插件。\n\n```bash\n  npm install postcss autoprefixer --save-dev\n```\n\n\n\n* **配置文件**：创建 `postcss.config.js`，指定使用的插件。([CSDN博客][6])\n\n```javascript\n  module.exports = {\n    plugins: [\n      require('autoprefixer')\n    ]\n  };\n```\n\n\n\n* **构建工具集成**：可与 Webpack、Gulp 等构建工具集成，自动处理 CSS。([腾讯云][5])\n\n## 📚 参考资料\n\n* [PostCSS 中文文档](https://postcss.org.cn/docs/)\n* [PostCSS Architecture](https://postcss.org/docs/postcss-architecture)\n* [PostCSS 插件列表](https://www.postcss.com.cn/plugins/)\n\n\n通过理解 PostCSS 的架构和工作原理，可以更高效地处理 CSS，提高开发效率和代码质量。\n\n[1]: https://www.oryoy.com/news/jie-mi-postcss-rang-css-geng-jia-qiang-da-yu-gao-xiao-de-shi-yong-zhi-nan.html?utm_source=chatgpt.com \"揭秘PostCSS：让CSS更加强大与高效的实用指南 - 云原生实践\"\n[2]: https://postcss.org.cn/docs/postcss-architecture?utm_source=chatgpt.com \"PostCSS 架构 中文\"\n[3]: https://blog.csdn.net/AOMGyz/article/details/138016887?utm_source=chatgpt.com \"PostCSS详细介绍_postcss是什么-CSDN博客\"\n[4]: https://postcss.org.cn/docs/?utm_source=chatgpt.com \"PostCSS 文档 中文\"\n[5]: https://cloud.tencent.com/developer/article/2470407?utm_source=chatgpt.com \"PostCSS概述-腾讯云开发者社区-腾讯云\"\n[6]: https://blog.csdn.net/nljycg/article/details/138196855?utm_source=chatgpt.com \"PostCSS 从入门到精通，看着一篇就够了（1）-CSDN博客\"\n\n      "])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-[var(--background)] text-[var(--foreground)]\",\"children\":[[\"$\",\"$L12\",null,{\"isBlogPage\":true}],[\"$\",\"header\",null,{\"className\":\"mb-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-6 pt-25\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-3xl mx-auto\",\"children\":[[\"$\",\"$L13\",null,{\"href\":\"/blog\",\"className\":\"inline-flex items-center text-[var(--primary)] mb-6 hover:underline\",\"children\":\"← Back to all posts\"}],[\"$\",\"h1\",null,{\"className\":\"text-3xl md:text-4xl lg:text-5xl font-bold mb-4\",\"children\":\"PostCSS 学习笔记\"}],[\"$\",\"div\",null,{\"className\":\"flex items-center text-[var(--muted-foreground)] mb-6\",\"children\":[[\"$\",\"span\",null,{\"children\":\"2025-05-13\"}],[\"$\",\"span\",null,{\"className\":\"mx-2\",\"children\":\"•\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-2\",\"children\":[[\"$\",\"span\",\"PostCSS\",{\"className\":\"px-2 py-1 bg-[var(--secondary)] text-[var(--secondary-foreground)] text-xs rounded-full\",\"children\":\"PostCSS\"}],[\"$\",\"span\",\"CSS\",{\"className\":\"px-2 py-1 bg-[var(--secondary)] text-[var(--secondary-foreground)] text-xs rounded-full\",\"children\":\"CSS\"}]]}]]}]]}]}]}],[\"$\",\"article\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-3xl mx-auto px-6\",\"children\":[\"$\",\"$L14\",null,{\"content\":\"$15\"}]}]]}]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"11:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Yi Tang's Website\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Yi Tang's Website\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]],\"error\":null,\"digest\":\"$undefined\"}\nb:{\"metadata\":\"$11:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>