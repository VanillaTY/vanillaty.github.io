1:"$Sreact.fragment"
2:I[7555,[],""]
3:I[1295,[],""]
5:I[9665,[],"MetadataBoundary"]
7:I[9665,[],"OutletBoundary"]
a:I[4911,[],"AsyncMetadataOutlet"]
c:I[9665,[],"ViewportBoundary"]
e:I[6614,[],""]
:HL["/_next/static/media/569ce4b8f30dc480-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/82969837b1b64619.css","style"]
0:{"P":null,"b":"QWC5XY07HjARotdzaAsgO","p":"","c":["","blog","mastering-typescript"],"i":false,"f":[[["",{"children":["blog",{"children":[["id","mastering-typescript","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/82969837b1b64619.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":["$","body",null,{"className":"__variable_5cfdac __variable_9a8899 antialiased","children":["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["id","mastering-typescript","d"],["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L4",["$","$L5",null,{"children":"$L6"}],null,["$","$L7",null,{"children":["$L8","$L9",["$","$La",null,{"promise":"$@b"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","ndf4JC1T9TLcBT5Y1s6TN",{"children":[["$","$Lc",null,{"children":"$Ld"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],null]}],false]],"m":"$undefined","G":["$e","$undefined"],"s":false,"S":true}
f:"$Sreact.suspense"
10:I[4911,[],"AsyncMetadata"]
12:I[1871,["574","static/chunks/574-eadd8b226b9b3348.js","766","static/chunks/766-8cb3eaaa27f75795.js","411","static/chunks/411-72a2b7bbc3988cf4.js","567","static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js"],"default"]
13:I[6874,["574","static/chunks/574-eadd8b226b9b3348.js","766","static/chunks/766-8cb3eaaa27f75795.js","411","static/chunks/411-72a2b7bbc3988cf4.js","567","static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js"],""]
14:I[813,["574","static/chunks/574-eadd8b226b9b3348.js","766","static/chunks/766-8cb3eaaa27f75795.js","411","static/chunks/411-72a2b7bbc3988cf4.js","567","static/chunks/app/blog/%5Bid%5D/page-6063c18eaf06b938.js"],"default"]
6:["$","$f",null,{"fallback":null,"children":["$","$L10",null,{"promise":"$@11"}]}]
15:Teb5,
> PostCSS æ˜¯ä¸€ä¸ªåŸºäºæ’ä»¶çš„ CSS å¤„ç†å·¥å…·ï¼Œå®ƒå°† CSS è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œé€šè¿‡æ’ä»¶å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œæœ€åç”Ÿæˆæ–°çš„ CSS ä»£ç ã€‚([Oryoy][1])


## ğŸ“Œ ä»€ä¹ˆæ˜¯ PostCSSï¼Ÿ

* **éé¢„å¤„ç†å™¨**ï¼šPostCSS ä¸åƒ Sass æˆ– Less é‚£æ ·å®šä¹‰æ–°çš„è¯­æ³•ï¼Œè€Œæ˜¯å¤„ç†æ ‡å‡† CSSã€‚
* **æ’ä»¶é©±åŠ¨**ï¼šå…¶æ ¸å¿ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„è§£æå™¨ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡æ’ä»¶å¯¹ AST è¿›è¡Œå„ç§å¤„ç†å’Œä¿®æ”¹ã€‚
* **ç”Ÿæ€ç³»ç»Ÿä¸°å¯Œ**ï¼šè®¸å¤šå·¥å…·ï¼ˆå¦‚ Autoprefixerã€Stylelintã€CSSnanoï¼‰éƒ½æ˜¯å»ºç«‹åœ¨ PostCSS ç”Ÿæ€ç³»ç»Ÿä¹‹ä¸Šçš„ã€‚([postcss.org.cn][2], [CSDNåšå®¢][3])


## ğŸ§  æ¶æ„æ¦‚è§ˆ

PostCSS çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š([postcss.org.cn][4])

1. **è§£æï¼ˆParsingï¼‰**ï¼šå°† CSS å­—ç¬¦ä¸²è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚
2. **è½¬æ¢ï¼ˆTransformingï¼‰**ï¼šæ’ä»¶å¯¹ AST è¿›è¡Œæ“ä½œï¼Œå¦‚æ·»åŠ å‰ç¼€ã€å‹ç¼©ç­‰ã€‚
3. **ç”Ÿæˆï¼ˆStringifyingï¼‰**ï¼šå°†ä¿®æ”¹åçš„ AST è½¬æ¢å› CSS å­—ç¬¦ä¸²ã€‚([CSDNåšå®¢][3])

è¿™ç§æ¶æ„ä½¿å¾— PostCSS å…·æœ‰é«˜åº¦çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚([CSDNåšå®¢][3])


## ğŸ” æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. è¯æ³•åˆ†æå™¨ï¼ˆTokenizerï¼‰

* **åŠŸèƒ½**ï¼šå°† CSS å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºæ ‡è®°ï¼ˆtokensï¼‰ï¼Œå¦‚é€‰æ‹©å™¨ã€å±æ€§ã€å€¼ç­‰ã€‚
* **ä¼˜åŠ¿**ï¼šæé«˜è§£ææ€§èƒ½ï¼Œä¾¿äºåç»­çš„ AST æ„å»ºã€‚([postcss.org.cn][2])

### 2. æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰

* **ç»“æ„**ï¼šä»¥æ ‘å½¢ç»“æ„è¡¨ç¤º CSS çš„è¯­æ³•å’Œç»“æ„ã€‚
* **ç”¨é€”**ï¼šæ’ä»¶é€šè¿‡éå†å’Œä¿®æ”¹ ASTï¼Œå®ç°å¯¹ CSS çš„å„ç§è½¬æ¢ã€‚([Oryoy][1], [è…¾è®¯äº‘][5])

### 3. æ’ä»¶ç³»ç»Ÿ

* **æœºåˆ¶**ï¼šæ’ä»¶æ˜¯å‡½æ•°ï¼Œæ¥å— AST ä½œä¸ºå‚æ•°ï¼Œå¯¹å…¶è¿›è¡Œæ“ä½œã€‚
* **ç¤ºä¾‹**ï¼šAutoprefixer è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€ï¼Œcssnano è¿›è¡Œ CSS å‹ç¼©ã€‚([Oryoy][1], [CSDNåšå®¢][3])


## ğŸ› ï¸ æ’ä»¶å¼€å‘ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ’ä»¶ç¤ºä¾‹ï¼Œå®ƒä¸ºæ‰€æœ‰é€‰æ‹©å™¨æ·»åŠ å‰ç¼€ï¼š

```javascript
module.exports = postcss.plugin('custom-plugin', function (opts) {
  return function (root) {
    root.walkRules(rule => {
      rule.selector = '.custom-prefix ' + rule.selector;
    });
  };
});
```



è¯¥æ’ä»¶éå†æ‰€æœ‰è§„åˆ™ï¼Œä¸ºæ¯ä¸ªé€‰æ‹©å™¨æ·»åŠ  `.custom-prefix` å‰ç¼€ã€‚([è…¾è®¯äº‘][5])


## âš™ï¸ é›†æˆä¸é…ç½®

* **å®‰è£…**ï¼šä½¿ç”¨ npm å®‰è£… PostCSS åŠæ‰€éœ€æ’ä»¶ã€‚

```bash
  npm install postcss autoprefixer --save-dev
```



* **é…ç½®æ–‡ä»¶**ï¼šåˆ›å»º `postcss.config.js`ï¼ŒæŒ‡å®šä½¿ç”¨çš„æ’ä»¶ã€‚([CSDNåšå®¢][6])

```javascript
  module.exports = {
    plugins: [
      require('autoprefixer')
    ]
  };
```



* **æ„å»ºå·¥å…·é›†æˆ**ï¼šå¯ä¸ Webpackã€Gulp ç­‰æ„å»ºå·¥å…·é›†æˆï¼Œè‡ªåŠ¨å¤„ç† CSSã€‚([è…¾è®¯äº‘][5])

## ğŸ“š å‚è€ƒèµ„æ–™

* [PostCSS ä¸­æ–‡æ–‡æ¡£](https://postcss.org.cn/docs/)
* [PostCSS Architecture](https://postcss.org/docs/postcss-architecture)
* [PostCSS æ’ä»¶åˆ—è¡¨](https://www.postcss.com.cn/plugins/)


é€šè¿‡ç†è§£ PostCSS çš„æ¶æ„å’Œå·¥ä½œåŸç†ï¼Œå¯ä»¥æ›´é«˜æ•ˆåœ°å¤„ç† CSSï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

[1]: https://www.oryoy.com/news/jie-mi-postcss-rang-css-geng-jia-qiang-da-yu-gao-xiao-de-shi-yong-zhi-nan.html?utm_source=chatgpt.com "æ­ç§˜PostCSSï¼šè®©CSSæ›´åŠ å¼ºå¤§ä¸é«˜æ•ˆçš„å®ç”¨æŒ‡å— - äº‘åŸç”Ÿå®è·µ"
[2]: https://postcss.org.cn/docs/postcss-architecture?utm_source=chatgpt.com "PostCSS æ¶æ„ ä¸­æ–‡"
[3]: https://blog.csdn.net/AOMGyz/article/details/138016887?utm_source=chatgpt.com "PostCSSè¯¦ç»†ä»‹ç»_postcssæ˜¯ä»€ä¹ˆ-CSDNåšå®¢"
[4]: https://postcss.org.cn/docs/?utm_source=chatgpt.com "PostCSS æ–‡æ¡£ ä¸­æ–‡"
[5]: https://cloud.tencent.com/developer/article/2470407?utm_source=chatgpt.com "PostCSSæ¦‚è¿°-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘"
[6]: https://blog.csdn.net/nljycg/article/details/138196855?utm_source=chatgpt.com "PostCSS ä»å…¥é—¨åˆ°ç²¾é€šï¼Œçœ‹ç€ä¸€ç¯‡å°±å¤Ÿäº†ï¼ˆ1ï¼‰-CSDNåšå®¢"

      4:["$","div",null,{"className":"min-h-screen bg-[var(--background)] text-[var(--foreground)]","children":[["$","$L12",null,{"isBlogPage":true}],["$","header",null,{"className":"mb-12","children":["$","div",null,{"className":"container mx-auto px-6 pt-25","children":["$","div",null,{"className":"max-w-3xl mx-auto","children":[["$","$L13",null,{"href":"/blog","className":"inline-flex items-center text-[var(--primary)] mb-6 hover:underline","children":"â† Back to all posts"}],["$","h1",null,{"className":"text-3xl md:text-4xl lg:text-5xl font-bold mb-4","children":"PostCSS å­¦ä¹ ç¬”è®°"}],["$","div",null,{"className":"flex items-center text-[var(--muted-foreground)] mb-6","children":[["$","span",null,{"children":"2025-05-13"}],["$","span",null,{"className":"mx-2","children":"â€¢"}],["$","div",null,{"className":"flex gap-2","children":[["$","span","PostCSS",{"className":"px-2 py-1 bg-[var(--secondary)] text-[var(--secondary-foreground)] text-xs rounded-full","children":"PostCSS"}],["$","span","CSS",{"className":"px-2 py-1 bg-[var(--secondary)] text-[var(--secondary-foreground)] text-xs rounded-full","children":"CSS"}]]}]]}]]}]}]}],["$","article",null,{"className":"prose prose-lg dark:prose-invert max-w-3xl mx-auto px-6","children":["$","$L14",null,{"content":"$15"}]}]]}]
9:null
d:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
8:null
11:{"metadata":[["$","title","0",{"children":"Yi Tang's Website"}],["$","meta","1",{"name":"description","content":"Yi Tang's Website"}],["$","link","2",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]],"error":null,"digest":"$undefined"}
b:{"metadata":"$11:metadata","error":null,"digest":"$undefined"}
